# Language setting
language: node_js

# Version number
node_js:
  - "0.12"
  - 5.0
  - "4.2.2"

env:
 global:
   - foo=bar
 matrix:  
   - M1=one
   - M2=two

    
matrix:
 exclude:
   - node_js: 5.0
     env: M1=one
   - node_js: 4.2.2
     env: M2=two
   

build:
  
  ci:
    - ps -eax
    - ls -al
    - echo $FOO
    - echo $test1 and $test2
    - echo $test3 and $test4
    - npm install
    - npm test

  post_ci:
    - docker build -t=shippabledocker/hitchcock2_sample_node .
    #- docker commit $SHIPPABLE_CONTAINER_NAME shippabledocker/hitchcock2_sample_node
    - docker push shippabledocker/hitchcock2_sample_node

integrations:
  hub:
    - integrationName: ship-docker
      type: docker
      
