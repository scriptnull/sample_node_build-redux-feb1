# Language setting
language: node_js

# Version number
node_js:
  - "0.12"

env:
  global:
    - FOO=FUBU

  matrix:
    - M1=one
    
matrix:
 include:
   - node_js: 4.2.0
     env: test1=bar
   - node_js: "5.0"
     env:
        - test2=bar2
   - node_js: 0.10.5
     env:
        - test3= "1/3"
        - test4= "aaa"

build:
  
  ci:
    - ps -eax
    - ls -al
    - echo $FOO
    - echo $test1 and $test2
    - echo $test3 and $test4
    - npm install
    - npm test

  post_ci:
    - docker build -t=shippabledocker/hitchcock2_sample_node .
    #- docker commit $SHIPPABLE_CONTAINER_NAME shippabledocker/hitchcock2_sample_node
    - docker push shippabledocker/hitchcock2_sample_node

integrations:
  hub:
    - integrationName: ship-docker
      type: docker
      
